trigger:
  - master

jobs:
  - job: Lint
    displayName: Lint
    pool:
      vmImage: "Ubuntu 16.04"
    variables:
      NODE_VERSION: 10
    steps:
      - template: azure-pipelines/jobs/lint.yml

  - job: Test_Linux
    displayName: Test on Linux
    pool:
      vmImage: "Ubuntu 16.04"
    strategy:
      matrix:
        node6:
          NODE_VERSION: 6
        node8:
          NODE_VERSION: 8
        node10:
          NODE_VERSION: 10
    steps:
      - template: azure-pipelines/jobs/test.yml

  - job: Test_macOS
    displayName: Test on macOS
    pool:
      vmImage: macos-10.13
    variables:
      NODE_VERSION: 10
    steps:
      - template: azure-pipelines/jobs/test.yml

  - job: Test_Windows
    displayName: Test on Windows
    pool:
      vmImage: vs2017-win2016
    variables:
      NODE_VERSION: 10
    steps:
      - template: azure-pipelines/jobs/test.yml
